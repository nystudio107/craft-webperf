{"version":3,"file":"SimpleBarChart.5ce065d9.js","sources":["../../../../../buildchain/src/vue/charts/common/RadialBarChart.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/charts/common/RadialBarChart.vue","../../../../../buildchain/src/vue/charts/common/SimpleBarChart.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/charts/common/SimpleBarChart.vue"],"sourcesContent":["\n<apexcharts\n  :options=\"chartOptions\"\n  :series=\"series\"\n  height=\"300px\"\n  type=\"radialBar\"\n  width=\"100%\"\n/>\n","<template>\n  <apexcharts\n    :options=\"chartOptions\"\n    :series=\"series\"\n    height=\"300px\"\n    type=\"radialBar\"\n    width=\"100%\"\n  />\n</template>\n\n<script>\nimport Axios from 'axios';\nimport ApexCharts from 'vue-apexcharts';\nimport TriBlendColor from '@/js/tri-color-blend.js';\n\n// Configure the api endpoint\nconst configureApi = (url) => {\n  return {\n    baseURL: url,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  };\n};\n// Query our API endpoint via an XHR GET\nconst queryApi = (api, uri, params, callback) => {\n  api.get(uri, {params: params})\n    .then((result) => {\n      if (callback) {\n        callback(result.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n};\n\n// Our component exports\nexport default {\n  components: {\n    'apexcharts': ApexCharts,\n  },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    start: {\n      type: String,\n      default: '',\n    },\n    end: {\n      type: String,\n      default: '',\n    },\n    column: {\n      type: String,\n      default: '',\n    },\n    pageUrl: {\n      type: String,\n      default: '',\n    },\n    fastColor: {\n      type: String,\n      default: '#00C800',\n    },\n    averageColor: {\n      type: String,\n      default: '#FFFF00',\n    },\n    slowColor: {\n      type: String,\n      default: '#C80000',\n    },\n    maxValue: {\n      type: Number,\n      default: 10000,\n    },\n    siteId: {\n      type: Number,\n      default: 0,\n    },\n    apiUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data: function () {\n    return {\n      chartOptions: {\n        chart: {\n          id: 'vuechart-dashboard-radial-bar',\n          fontFamily: 'inherit',\n          toolbar: {\n            show: false,\n          },\n        },\n        states: {\n          hover: {\n            filter: {\n              type: 'none',\n              value: 0,\n            }\n          },\n        },\n        colors: ['#000000'],\n        plotOptions: {\n          radialBar: {\n            startAngle: -135,\n            endAngle: 135,\n            hollow: {\n              size: '65%',\n            },\n            track: {\n              background: \"#f1f5f8\",\n              strokeWidth: '97%',\n              margin: 5, // margin is in pixels\n              shadow: {\n                enabled: true,\n                top: 2,\n                left: 0,\n                color: '#999',\n                opacity: 1,\n                blur: 2\n              }\n            },\n            dataLabels: {\n              name: {\n                show: false,\n                fontSize: '16px',\n                color: '#333',\n                offsetY: 100\n              },\n              value: {\n                offsetY: 10,\n                fontSize: '40px',\n                color: '#333',\n                style: {\n                  cssClass: 'apexcharts-datalabel-value',\n                },\n                formatter: (val) => {\n                  val = (val * this.displayMaxValue) / 100;\n                  return Number(val).toFixed(2) + \"s\";\n                }\n              }\n            }\n          }\n        },\n        labels: [this.title],\n        title: {\n          text: this.title,\n          offsetY: 18,\n          align: 'center',\n          style: {\n            fontSize: '16px',\n            cssClass: 'apexcharts-title-text'\n          }\n        },\n        stroke: {\n          width: 1,\n          lineCap: 'round'\n        },\n      },\n      series: [0],\n      displayStart: this.start,\n      displayEnd: this.end,\n      displayMaxValue: this.maxValue,\n      triBlend: new TriBlendColor(this.fastColor, this.averageColor, this.slowColor),\n    }\n  },\n  created() {\n    this.getSeriesData();\n  },\n  mounted() {\n    if (this.$events !== undefined) {\n      this.$events.$on('change-range', eventData => this.onChangeRange(eventData));\n    }\n  },\n  methods: {\n    // Load in our chart data asynchronously\n    getSeriesData: async function () {\n      const chartsAPI = Axios.create(configureApi(this.apiUrl));\n      let params = {\n        'column': this.column,\n        'start': this.displayStart,\n        'end': this.displayEnd,\n        'pageUrl': this.pageUrl,\n        'siteId': this.siteId,\n      };\n      await queryApi(chartsAPI, '', params, (data) => {\n        if (data.avg !== undefined) {\n          let val = data.avg / 1000;\n          if (val > this.displayMaxValue) {\n            this.displayMaxValue = val;\n          }\n          val = (val * 100) / this.displayMaxValue;\n          let chartColor = this.triBlend.colorFromPercentage(val);\n          this.chartOptions = {\n            ...this.chartOptions, ...{\n              colors: [chartColor],\n              plotOptions: {\n                radialBar: {\n                  dataLabels: {\n                    value: {\n                      color: chartColor,\n                    }\n                  }\n                }\n              },\n            }\n          };\n          this.series = [val];\n        }\n      });\n    },\n    onChangeRange(range) {\n      this.displayStart = range.start;\n      this.displayEnd = range.end;\n      this.getSeriesData();\n    },\n  },\n}\n</script>\n","\n<div class=\"simple-bar-chart-wrapper px-5 py-3\">\n  <div class=\"clearafter py-2\">\n    <div class=\"simple-bar-chart-label text-base font-bold\">\n      {{ title }}\n    </div>\n    <div class=\"simple-bar-chart-value text-base font-bold\">\n      {{ statFormatter(series[0]) }}\n    </div>\n  </div>\n  <div class=\"py-2\">\n    <div class=\"simple-bar-chart-track rounded-full bg-gray-200\">\n      <div\n        :style=\"{ width: series[0] + '%', backgroundColor: barColor }\"\n        class=\"simple-bar-line h-3 rounded-full\"\n      />\n    </div>\n  </div>\n</div>\n","<template>\n  <div class=\"simple-bar-chart-wrapper px-5 py-3\">\n    <div class=\"clearafter py-2\">\n      <div class=\"simple-bar-chart-label text-base font-bold\">\n        {{ title }}\n      </div>\n      <div class=\"simple-bar-chart-value text-base font-bold\">\n        {{ statFormatter(series[0]) }}\n      </div>\n    </div>\n    <div class=\"py-2\">\n      <div class=\"simple-bar-chart-track rounded-full bg-gray-200\">\n        <div\n          :style=\"{ width: series[0] + '%', backgroundColor: barColor }\"\n          class=\"simple-bar-line h-3 rounded-full\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Axios from 'axios';\nimport TriBlendColor from '@/js/tri-color-blend.js';\n\n// Configure the api endpoint\nconst configureApi = (url) => {\n  return {\n    baseURL: url,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  };\n};\n// Query our API endpoint via an XHR GET\nconst queryApi = (api, uri, params, callback) => {\n  api.get(uri, {params: params})\n    .then((result) => {\n      if (callback) {\n        callback(result.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n};\n\n// Our component exports\nexport default {\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    start: {\n      type: String,\n      default: '',\n    },\n    end: {\n      type: String,\n      default: '',\n    },\n    column: {\n      type: String,\n      default: '',\n    },\n    pageUrl: {\n      type: String,\n      default: '',\n    },\n    fastColor: {\n      type: String,\n      default: '#00C800',\n    },\n    averageColor: {\n      type: String,\n      default: '#FFFF00',\n    },\n    slowColor: {\n      type: String,\n      default: '#C80000',\n    },\n    maxValue: {\n      type: Number,\n      default: 10000,\n    },\n    siteId: {\n      type: Number,\n      default: 0,\n    },\n    apiUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data: function () {\n    return {\n      barColor: '#000',\n      series: [0],\n      displayStart: this.start,\n      displayEnd: this.end,\n      displayMaxValue: this.maxValue,\n      triBlend: new TriBlendColor(this.fastColor, this.averageColor, this.slowColor),\n    }\n  },\n  created() {\n    this.getSeriesData();\n  },\n  mounted() {\n    if (this.$events !== undefined) {\n      this.$events.$on('change-range', eventData => this.onChangeRange(eventData));\n    }\n  },\n  methods: {\n    // Load in our chart data asynchronously\n    getSeriesData: async function () {\n      const chartsAPI = Axios.create(configureApi(this.apiUrl));\n      let params = {\n        'column': this.column,\n        'start': this.displayStart,\n        'end': this.displayEnd,\n        'pageUrl': this.pageUrl,\n        'siteId': this.siteId,\n      };\n      await queryApi(chartsAPI, '', params, (data) => {\n        if (data.avg !== undefined) {\n          let val = data.avg / 1000;\n          if (val > this.displayMaxValue) {\n            this.displayMaxValue = val;\n          }\n          val = (val * 100) / this.displayMaxValue;\n          this.barColor = this.triBlend.colorFromPercentage(val);\n          this.series = [val];\n        }\n      });\n    },\n    onChangeRange(range) {\n      this.displayStart = range.start;\n      this.displayEnd = range.end;\n      this.getSeriesData();\n    },\n    statFormatter(val) {\n      val = (val * this.displayMaxValue) / 100;\n      return Number(val).toFixed(2) + \"s\";\n    }\n  },\n}\n</script>\n"],"names":["render","staticRenderFns","configureApi","queryApi","__vue2_script","TriBlendColor","Axios"],"mappings":"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"}