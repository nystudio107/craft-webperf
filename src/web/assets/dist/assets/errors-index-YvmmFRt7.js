import{_ as o,S as i}from"./SampleRangePicker-5b3vMstm.js";import{V as l,a as f,b as d,c as u,P as c}from"./PageResultCell-AhIe28gR.js";import{D as p}from"./DataSampleDate-UZX8PM_P.js";import{n as s}from"./vue-apexcharts-KYvHKhev.js";import{E as g}from"./ErrorsDetailAreaChart-V9K3EHmL.js";const m=[{name:"__slot:page-listing-display",sortField:"url",title:"Page",titleClass:"center pageListingDisplay",dataClass:"center",width:"30%"},{name:"__slot:sample-date",sortField:"latestErrorDate",title:"Last Error Date",titleClass:"text-left",dataClass:"text-left",width:"20%"},{name:"__slot:craft-errors",sortField:"craftCount",title:"Craft Errors",titleClass:"text-right",dataClass:"text-right",callback:"countFormatter",width:"15%"},{name:"__slot:boomerang-errors",sortField:"boomerangCount",title:"JavaScript Errors",titleClass:"text-right",dataClass:"text-right",callback:"countFormatter",width:"15%"},{name:"__slot:total-errors",sortField:"cnt",title:"Total Errors",titleClass:"text-right",dataClass:"text-right",callback:"countFormatter",width:"15%"},{name:"deleteLink",sortField:"deleteLink",title:"",titleClass:"text-center",dataClass:"text-center",callback:"deleteFormatter",width:"5%"}],h={name:"ErrorWarning",props:{sample:{type:Number,default:0}}};var b=function(){var a=this,t=a._self._c;return t("div",{staticClass:"field text-sm font-normal inline-block"},[a.sample>0?t("p",{staticClass:"warning display-block webperf-error-color"},[a._v(" "+a._s(a.sample)+" ")]):t("p",{staticClass:"display-block text-grey-500"},[a._v(" - ")])])},v=[],_=s(h,b,v,!1,null,null,null,null);const C=_.exports,w={components:{vuetable:l,"vuetable-pagination":f,"vuetable-pagination-info":d,"vuetable-filter-bar":u,"page-result-cell":c,"data-sample-date":p,"error-warning":C},props:{start:{type:String,default:""},end:{type:String,default:""},fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},maxValue:{type:Number,default:1e4},siteId:{type:Number,default:0},apiUrl:{type:String,default:""}},data:function(){return{moreParams:{siteId:this.siteId,start:this.start,end:this.end,filter:""},css:{tableClass:"data fullwidth webperf-pages-index",ascendingIcon:"menubtn webperf-menubtn-asc",descendingIcon:"menubtn webperf-menubtn-desc"},sortOrder:[{field:"__slot:total-errors",sortField:"cnt",direction:"desc"}],fields:m}},mounted(){this.$events.$on("filter-set",e=>this.onFilterSet(e)),this.$events.$on("filter-reset",()=>this.onFilterReset()),this.$events.$on("change-range",e=>this.onChangeRange(e))},methods:{onFilterSet(e){this.moreParams.filter=e,this.$events.fire("refresh-table",this.$refs.vuetable)},onFilterReset(){this.moreParams.filter="",this.$events.fire("refresh-table",this.$refs.vuetable)},onLoaded(){this.$events.fire("refresh-table-components",this.$refs.vuetable)},onPaginationData(e){this.$refs.paginationTop.setPaginationData(e),this.$refs.paginationInfoTop.setPaginationData(e),this.$refs.pagination.setPaginationData(e),this.$refs.paginationInfo.setPaginationData(e)},onChangePage(e){this.$refs.vuetable.changePage(e)},onRowClicked(e){e.detailPageUrl.length&&(window.location.href=e.detailPageUrl)},onChangeRange(e){this.moreParams.start=e.start,this.moreParams.end=e.end,this.$events.fire("refresh-table",this.$refs.vuetable)},computeWidth(e,a){let t=e/a*100;return t>100&&(t=100),t},statFormatter(e){return Number(e/1e3).toFixed(2)+"s"},countFormatter(e){return Number(e).toFixed(0)},memoryFormatter(e){return Number(e/(1024*1024)).toFixed(2)+" Mb"},deleteFormatter(e){return e===""?"":`
                <a class="delete icon" href="${e}" title="Delete"></a>
                `}}};var F=function(){var a=this,t=a._self._c;return t("div",{staticClass:"py-4"},[t("vuetable-filter-bar"),t("div",{staticClass:"vuetable-pagination clearafter"},[t("vuetable-pagination-info",{ref:"paginationInfoTop",attrs:{"info-template":"Displaying {from} to {to} of {total} pages"}}),t("vuetable-pagination",{ref:"paginationTop",on:{"vuetable-pagination:change-page":a.onChangePage}})],1),t("div",{staticClass:"overflow-x-auto overflow-y-hidden"},[t("vuetable",{ref:"vuetable",attrs:{"api-url":a.apiUrl,"append-params":a.moreParams,css:a.css,fields:a.fields,"per-page":20,"sort-order":a.sortOrder},on:{"vuetable:pagination-data":a.onPaginationData,"vuetable:row-clicked":a.onRowClicked,"vuetable:loaded":a.onLoaded},scopedSlots:a._u([{key:"page-listing-display",fn:function(r){return[t("page-result-cell",{attrs:{title:r.rowData.title,url:r.rowData.url,width:0,color:"none"}})]}},{key:"sample-date",fn:function(r){return[t("data-sample-date",{attrs:{date:r.rowData.latestErrorDate,query:r.rowData.query,url:r.rowData.url}})]}},{key:"craft-errors",fn:function(r){return[t("error-warning",{attrs:{sample:r.rowData.craftCount}})]}},{key:"boomerang-errors",fn:function(r){return[t("error-warning",{attrs:{sample:r.rowData.boomerangCount}})]}},{key:"total-errors",fn:function(r){return[t("error-warning",{attrs:{sample:r.rowData.cnt}})]}}])})],1),t("div",{staticClass:"vuetable-pagination clearafter"},[t("vuetable-pagination-info",{ref:"paginationInfo",attrs:{"info-template":"Displaying {from} to {to} of {total} pages"}}),t("vuetable-pagination",{ref:"pagination",on:{"vuetable-pagination:change-page":a.onChangePage}})],1)],1)},y=[],$=s(w,F,y,!1,null,null,null,null);const P=$.exports,n=window.Vue;n.use(o);new n({el:"#cp-nav-content",components:{ErrorsIndexTable:P,SampleRangePicker:i,ErrorsDetailAreaChart:g},mounted(){this.$events.$on("refresh-table",e=>this.onTableRefresh(e))},methods:{onTableRefresh(e){n.nextTick(()=>e.refresh())}}});
//# sourceMappingURL=errors-index-YvmmFRt7.js.map
