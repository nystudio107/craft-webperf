var u=Object.defineProperty,f=Object.defineProperties;var m=Object.getOwnPropertyDescriptors;var n=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var l=(t,e,s)=>e in t?u(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,o=(t,e)=>{for(var s in e||(e={}))g.call(e,s)&&l(t,s,e[s]);if(n)for(var s of n(e))y.call(e,s)&&l(t,s,e[s]);return t},h=(t,e)=>f(t,m(e));import{n as x,A as b,b as _}from"./vendor.d298d7b0.js";var v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("apexcharts",{attrs:{options:t.chartOptions,series:t.series,height:"450px",type:"area",width:"100%"}})},S=[];const p=t=>t.map(function(e){return Math.max.apply(null,e)}),w=t=>({baseURL:t,headers:{"X-Requested-With":"XMLHttpRequest"}}),A=(t,e,s,r)=>{t.get(e,{params:s}).then(a=>{r&&r(a.data)}).catch(a=>{console.log(a)})},C={components:{apexcharts:b},props:{title:{type:String,default:""},start:{type:String,default:""},end:{type:String,default:""},pageUrl:{type:String,default:""},siteId:{type:Number,default:0},apiUrl:{type:String,default:""}},data:function(){return{chartOptions:{chart:{id:"vuechart-pages-detail",toolbar:{show:!1},sparkline:{enabled:!1},animations:{enabled:!1}},tooltip:{enabled:!0,inverseOrder:!0,x:{show:!1}},colors:["#1F9D55","#CC1F1A"],stroke:{curve:"smooth",width:3},fill:{type:"solid",opacity:.5,gradient:{enabled:!1}},legend:{formatter:void 0,offsetX:0,offsetY:-10},xaxis:{labels:{show:!1,minHeight:"20px"},crosshairs:{width:1}},yaxis:{min:0,max:0,seriesName:"Errors",tickAmount:1,labels:{formatter:t=>Math.round(t)}},labels:[],title:{text:this.title,offsetX:0,style:{fontSize:"24px",cssClass:"apexcharts-yaxis-title"}}},series:[{name:"empty",data:[0]}],displayStart:this.start,displayEnd:this.end,displayMaxValue:this.maxValue}},created(){this.getSeriesData()},mounted(){this.$events.$on("change-range",t=>this.onChangeRange(t))},methods:{getSeriesData:async function(){const t=_.create(w(this.apiUrl));let e={start:this.displayStart,end:this.displayEnd,pageUrl:this.pageUrl,siteId:this.siteId};await A(t,"",e,s=>{if(s[0]!==void 0){let r=p([s[0].data])[0],a=p([s[1].data])[0],i=r>a?r:a;this.chartOptions=h(o({},this.chartOptions),{yaxis:{min:0,max:i,tickAmount:i>10?10:i,labels:{formatter:c=>Math.round(c)}},xaxis:{categories:s[0].labels,type:"category",labels:{show:!1,minHeight:"20px"},crosshairs:{width:1}},labels:s[0].labels}),this.series=s}})},onChangeRange(t){this.displayStart=t.start,this.displayEnd=t.end,this.getSeriesData()}}},d={};var E=x(C,v,S,!1,M,null,null,null);function M(t){for(let e in d)this[e]=d[e]}var D=function(){return E.exports}();export{D as E};
//# sourceMappingURL=ErrorsDetailAreaChart.27ff2418.js.map
