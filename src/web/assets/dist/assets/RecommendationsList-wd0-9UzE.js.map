{"version":3,"file":"RecommendationsList-wd0-9UzE.js","sources":["../../../../../buildchain/src/vue/common/RecommendationsList.vue"],"sourcesContent":["<template>\n  <div>\n    <div\n      v-if=\"!series.length\"\n      class=\"text-3xl text-center py-10\"\n    >\n      &#x1f389; No recommendations found. Nice job!\n    </div>\n    <div\n      v-for=\"(item, index) in series\"\n      :key=\"index\"\n    >\n      <div class=\"field pb-4\">\n        <p class=\"warning text-2xl leading-normal\">\n          <!-- eslint-disable vue/no-v-html -->\n          <span v-html=\"item.summary\" />\n          <!--eslint-enable-->\n        </p>\n        <div\n          class=\"heading\"\n          style=\"padding-left: 26px;\"\n        >\n          <p class=\"instructions text-xl leading-tight\">\n            <!-- eslint-disable vue/no-v-html -->\n            <span v-html=\"item.detail\" />\n            <!--eslint-enable-->\n            <span class=\"field inline-block m-0\">\n              <a\n                v-if=\"item.learnMoreUrl !== ''\"\n                :href=\"item.learnMoreUrl\"\n                class=\"go notice\"\n                rel=\"noopener,nofollow\"\n                target=\"_blank\"\n              >Learn More</a>\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n    <sample-pane-footer\n      :display-dev-mode-warning=\"devModeWarning\"\n      :page-url=\"pageUrl\"\n      :site-id=\"siteId\"\n      column=\"id\"\n      end=\"end\"\n      start=\"start\"\n      subject=\"recommendations\"\n    />\n  </div>\n</template>\n\n<script>\nimport Axios from 'axios';\nimport SamplePaneFooter from '@/vue/common/SamplePaneFooter.vue';\n\n// Configure the api endpoint\nconst configureApi = (url) => {\n  return {\n    baseURL: url,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  };\n};\n// Query our API endpoint via an XHR GET\nconst queryApi = (api, uri, params, callback) => {\n  api.get(uri, {params: params})\n    .then((result) => {\n      if (callback) {\n        callback(result.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n};\n\n// Our component exports\nexport default {\n  components: {\n    'sample-pane-footer': SamplePaneFooter,\n  },\n  props: {\n    start: {\n      type: String,\n      default: '',\n    },\n    end: {\n      type: String,\n      default: '',\n    },\n    devModeWarning: {\n      type: Boolean,\n      default: false\n    },\n    pageUrl: {\n      type: String,\n      default: '',\n    },\n    siteId: {\n      type: Number,\n      default: 0,\n    },\n    apiUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data: function () {\n    return {\n      series: [],\n      displayStart: this.start,\n      displayEnd: this.end,\n    }\n  },\n  created() {\n    this.getSeriesData();\n  },\n  mounted() {\n    this.$events.$on('change-range', eventData => this.onChangeRange(eventData));\n  },\n  methods: {\n    // Load in our chart data asynchronously\n    getSeriesData: async function () {\n      const chartsAPI = Axios.create(configureApi(this.apiUrl));\n      let params = {\n        'start': this.displayStart,\n        'end': this.displayEnd,\n        'pageUrl': this.pageUrl,\n        'siteId': this.siteId,\n      };\n      await queryApi(chartsAPI, '', params, (data) => {\n        if (data[0] !== undefined) {\n          this.series = data;\n        }\n      });\n    },\n    onChangeRange(range) {\n      this.displayStart = range.start;\n      this.displayEnd = range.end;\n      this.getSeriesData();\n    },\n  },\n}\n</script>\n"],"names":["configureApi","url","queryApi","api","uri","params","callback","result","error","_sfc_main","SamplePaneFooter","eventData","chartsAPI","Axios","data","range"],"mappings":"2GAwDA,MAAAA,EAAAC,IACA,CACA,QAAAA,EACA,QAAA,CACA,mBAAA,gBACA,CACA,GAGAC,EAAA,CAAAC,EAAAC,EAAAC,EAAAC,IAAA,CACAH,EAAA,IAAAC,EAAA,CAAA,OAAAC,CAAA,CAAA,EACA,KAAAE,GAAA,CACAD,GACAA,EAAAC,EAAA,IAAA,CAEA,CAAA,EACA,MAAAC,GAAA,CACA,QAAA,IAAAA,CAAA,CACA,CAAA,CACA,EAGAC,EAAA,CACA,WAAA,CACA,qBAAAC,CACA,EACA,MAAA,CACA,MAAA,CACA,KAAA,OACA,QAAA,EACA,EACA,IAAA,CACA,KAAA,OACA,QAAA,EACA,EACA,eAAA,CACA,KAAA,QACA,QAAA,EACA,EACA,QAAA,CACA,KAAA,OACA,QAAA,EACA,EACA,OAAA,CACA,KAAA,OACA,QAAA,CACA,EACA,OAAA,CACA,KAAA,OACA,QAAA,EACA,CACA,EACA,KAAA,UAAA,CACA,MAAA,CACA,OAAA,CAAA,EACA,aAAA,KAAA,MACA,WAAA,KAAA,GACA,CACA,EACA,SAAA,CACA,KAAA,cAAA,CACA,EACA,SAAA,CACA,KAAA,QAAA,IAAA,eAAAC,GAAA,KAAA,cAAAA,CAAA,CAAA,CACA,EACA,QAAA,CAEA,cAAA,gBAAA,CACA,MAAAC,EAAAC,EAAA,OAAAb,EAAA,KAAA,MAAA,CAAA,EACA,IAAAK,EAAA,CACA,MAAA,KAAA,aACA,IAAA,KAAA,WACA,QAAA,KAAA,QACA,OAAA,KAAA,MACA,EACA,MAAAH,EAAAU,EAAA,GAAAP,EAAAS,GAAA,CACAA,EAAA,CAAA,IAAA,SACA,KAAA,OAAAA,EAEA,CAAA,CACA,EACA,cAAAC,EAAA,CACA,KAAA,aAAAA,EAAA,MACA,KAAA,WAAAA,EAAA,IACA,KAAA,cAAA,CACA,CACA,CACA"}