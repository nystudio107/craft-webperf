{"version":3,"file":"SamplePaneFooter.d8765632.js","sources":["../../../../../buildchain/src/vue/common/SamplePaneFooter.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/common/SamplePaneFooter.vue"],"sourcesContent":["\n<div class=\"field\">\n  <div class=\"heading\">\n    <p class=\"instructions\">\n      The {{ subject }} data is an <em>average</em> of <strong>{{\n        formatNumber(samples)\n      }}</strong> data sample<span v-if=\"samples !== 1\">s</span>.\n    </p>\n  </div>\n  <p\n    v-if=\"samples < 100\"\n    class=\"warning\"\n  >\n    Webperf has collected less than <strong>100</strong> data samples. The\n    sample size is not statistically significant, so above averaged results may not be meaningful.\n  </p>\n  <p\n    v-if=\"displayDevModeWarning\"\n    class=\"warning\"\n  >\n    Craft performance will be slower than normal with\n    <code>devMode</code> enabled due to extensive logging and disabling of some caches. <span\n      class=\"field inline-block m-0\"\n    ><a\n      class=\"notice go\"\n      href=\"https://craftcms.com/guides/what-dev-mode-does\"\n      target=\"_blank\"\n    >Learn More</a></span>\n  </p>\n</div>\n","<template>\n  <div class=\"field\">\n    <div class=\"heading\">\n      <p class=\"instructions\">\n        The {{ subject }} data is an <em>average</em> of <strong>{{\n          formatNumber(samples)\n        }}</strong> data sample<span v-if=\"samples !== 1\">s</span>.\n      </p>\n    </div>\n    <p\n      v-if=\"samples < 100\"\n      class=\"warning\"\n    >\n      Webperf has collected less than <strong>100</strong> data samples. The\n      sample size is not statistically significant, so above averaged results may not be meaningful.\n    </p>\n    <p\n      v-if=\"displayDevModeWarning\"\n      class=\"warning\"\n    >\n      Craft performance will be slower than normal with\n      <code>devMode</code> enabled due to extensive logging and disabling of some caches. <span\n        class=\"field inline-block m-0\"\n      ><a\n        class=\"notice go\"\n        href=\"https://craftcms.com/guides/what-dev-mode-does\"\n        target=\"_blank\"\n      >Learn More</a></span>\n    </p>\n  </div>\n</template>\n\n<script>\nimport Axios from 'axios';\n\n// Configure the api endpoint\nconst configureApi = (url) => {\n  return {\n    baseURL: url,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  };\n};\n// Query our API endpoint via an XHR GET\nconst queryApi = (api, uri, params, callback) => {\n  api.get(uri, {params: params})\n    .then((result) => {\n      if (callback) {\n        callback(result.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n};\n\n// Our component exports\nexport default {\n  components: {},\n  props: {\n    start: {\n      type: String,\n      default: '',\n    },\n    end: {\n      type: String,\n      default: '',\n    },\n    column: {\n      type: String,\n      default: '',\n    },\n    displayDevModeWarning: {\n      type: Boolean,\n      default: false\n    },\n    pageUrl: {\n      type: String,\n      default: '',\n    },\n    subject: {\n      type: String,\n      default: '',\n    },\n    siteId: {\n      type: Number,\n      default: 0,\n    },\n    apiUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data: function () {\n    return {\n      samples: 0,\n      displayStart: this.start,\n      displayEnd: this.end,\n      displayMaxValue: this.maxValue,\n    }\n  },\n  created() {\n    this.getSeriesData();\n  },\n  mounted() {\n    this.$events.$on('change-range', eventData => this.onChangeRange(eventData));\n  },\n  methods: {\n    // Load in our chart data asynchronously\n    getSeriesData: async function () {\n      const chartsAPI = Axios.create(configureApi(this.apiUrl));\n      let params = {\n        'column': this.column,\n        'start': this.displayStart,\n        'end': this.displayEnd,\n        'pageUrl': this.pageUrl,\n        'siteId': this.siteId,\n      };\n      await queryApi(chartsAPI, '', params, (data) => {\n        if (data.cnt !== undefined) {\n          this.samples = data.cnt;\n        }\n      });\n    },\n    onChangeRange(range) {\n      this.displayStart = range.start;\n      this.displayEnd = range.end;\n      this.getSeriesData();\n    },\n    formatNumber(number) {\n      return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n  },\n}\n</script>\n"],"names":[],"mappings":"gDAAA,GAAI,GAAS,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,MAAM,CAAC,YAAY,SAAS,CAAC,EAAG,MAAM,CAAC,YAAY,WAAW,CAAC,EAAG,IAAI,CAAC,YAAY,gBAAgB,CAAC,EAAI,GAAG,QAAQ,EAAI,GAAG,EAAI,SAAS,gBAAgB,EAAG,KAAK,CAAC,EAAI,GAAG,aAAa,EAAI,GAAG,QAAQ,EAAG,SAAS,CAAC,EAAI,GAAG,EAAI,GAAG,EAAI,aAAa,EAAI,aAAa,EAAI,GAAG,gBAAiB,EAAI,UAAY,EAAG,EAAG,OAAO,CAAC,EAAI,GAAG,OAAO,EAAI,KAAK,EAAI,GAAG,UAAW,EAAI,QAAU,IAAK,EAAG,IAAI,CAAC,YAAY,WAAW,CAAC,EAAI,GAAG,qCAAqC,EAAG,SAAS,CAAC,EAAI,GAAG,SAAS,EAAI,GAAG,wHAAwH,EAAI,KAAM,EAAI,sBAAuB,EAAG,IAAI,CAAC,YAAY,WAAW,CAAC,EAAI,GAAG,uDAAuD,EAAG,OAAO,CAAC,EAAI,GAAG,aAAa,EAAI,GAAG,oEAAoE,EAAI,GAAG,KAAK,EAAI,QACt7B,EAAkB,CAAC,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,OAAO,CAAC,YAAY,0BAA0B,CAAC,EAAG,IAAI,CAAC,YAAY,YAAY,MAAM,CAAC,KAAO,iDAAiD,OAAS,WAAW,CAAC,EAAI,GAAG,oBCmCvR"}