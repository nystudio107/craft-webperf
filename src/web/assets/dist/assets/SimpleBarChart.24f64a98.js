var f=Object.defineProperty,g=Object.defineProperties;var y=Object.getOwnPropertyDescriptors;var i=Object.getOwnPropertySymbols;var m=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var l=(t,e,a)=>e in t?f(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,n=(t,e)=>{for(var a in e||(e={}))m.call(e,a)&&l(t,a,e[a]);if(i)for(var a of i(e))v.call(e,a)&&l(t,a,e[a]);return t},o=(t,e)=>g(t,y(e));import{n as d,A as C,b as p}from"./vendor.d298d7b0.js";import{T as h}from"./tri-color-blend.3ecffd12.js";var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("apexcharts",{attrs:{options:t.chartOptions,series:t.series,height:"300px",type:"radialBar",width:"100%"}})},S=[];const x=t=>({baseURL:t,headers:{"X-Requested-With":"XMLHttpRequest"}}),b=(t,e,a,s)=>{t.get(e,{params:a}).then(r=>{s&&s(r.data)}).catch(r=>{console.log(r)})},F={components:{apexcharts:C},props:{title:{type:String,default:""},start:{type:String,default:""},end:{type:String,default:""},column:{type:String,default:""},pageUrl:{type:String,default:""},fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},maxValue:{type:Number,default:1e4},siteId:{type:Number,default:0},apiUrl:{type:String,default:""}},data:function(){return{chartOptions:{chart:{id:"vuechart-dashboard-radial-bar",fontFamily:"inherit",toolbar:{show:!1}},states:{hover:{filter:{type:"none",value:0}}},colors:["#000000"],plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{size:"65%"},track:{background:"#f1f5f8",strokeWidth:"97%",margin:5,shadow:{enabled:!0,top:2,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!1,fontSize:"16px",color:"#333",offsetY:100},value:{offsetY:10,fontSize:"40px",color:"#333",style:{cssClass:"apexcharts-datalabel-value"},formatter:t=>(t=t*this.displayMaxValue/100,Number(t).toFixed(2)+"s")}}}},labels:[this.title],title:{text:this.title,offsetY:18,align:"center",style:{fontSize:"16px",cssClass:"apexcharts-title-text"}},stroke:{width:1,lineCap:"round"}},series:[0],displayStart:this.start,displayEnd:this.end,displayMaxValue:this.maxValue,triBlend:new h(this.fastColor,this.averageColor,this.slowColor)}},created(){this.getSeriesData()},mounted(){this.$events!==void 0&&this.$events.$on("change-range",t=>this.onChangeRange(t))},methods:{getSeriesData:async function(){const t=p.create(x(this.apiUrl));let e={column:this.column,start:this.displayStart,end:this.displayEnd,pageUrl:this.pageUrl,siteId:this.siteId};await b(t,"",e,a=>{if(a.avg!==void 0){let s=a.avg/1e3;s>this.displayMaxValue&&(this.displayMaxValue=s),s=s*100/this.displayMaxValue;let r=this.triBlend.colorFromPercentage(s);this.chartOptions=o(n({},this.chartOptions),{colors:[r],plotOptions:{radialBar:{dataLabels:{value:{color:r}}}}}),this.series=[s]}})},onChangeRange(t){this.displayStart=t.start,this.displayEnd=t.end,this.getSeriesData()}}},u={};var w=d(F,_,S,!1,$,null,null,null);function $(t){for(let e in u)this[e]=u[e]}var L=function(){return w.exports}(),M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"simple-bar-chart-wrapper px-5 py-3"},[a("div",{staticClass:"clearafter py-2"},[a("div",{staticClass:"simple-bar-chart-label text-base font-bold"},[t._v(" "+t._s(t.title)+" ")]),a("div",{staticClass:"simple-bar-chart-value text-base font-bold"},[t._v(" "+t._s(t.statFormatter(t.series[0]))+" ")])]),a("div",{staticClass:"py-2"},[a("div",{staticClass:"simple-bar-chart-track rounded-full bg-gray-200"},[a("div",{staticClass:"simple-bar-line h-3 rounded-full",style:{width:t.series[0]+"%",backgroundColor:t.barColor}})])])])},R=[];const V=t=>({baseURL:t,headers:{"X-Requested-With":"XMLHttpRequest"}}),U=(t,e,a,s)=>{t.get(e,{params:a}).then(r=>{s&&s(r.data)}).catch(r=>{console.log(r)})},A={components:{},props:{title:{type:String,default:""},start:{type:String,default:""},end:{type:String,default:""},column:{type:String,default:""},pageUrl:{type:String,default:""},fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},maxValue:{type:Number,default:1e4},siteId:{type:Number,default:0},apiUrl:{type:String,default:""}},data:function(){return{barColor:"#000",series:[0],displayStart:this.start,displayEnd:this.end,displayMaxValue:this.maxValue,triBlend:new h(this.fastColor,this.averageColor,this.slowColor)}},created(){this.getSeriesData()},mounted(){this.$events!==void 0&&this.$events.$on("change-range",t=>this.onChangeRange(t))},methods:{getSeriesData:async function(){const t=p.create(V(this.apiUrl));let e={column:this.column,start:this.displayStart,end:this.displayEnd,pageUrl:this.pageUrl,siteId:this.siteId};await U(t,"",e,a=>{if(a.avg!==void 0){let s=a.avg/1e3;s>this.displayMaxValue&&(this.displayMaxValue=s),s=s*100/this.displayMaxValue,this.barColor=this.triBlend.colorFromPercentage(s),this.series=[s]}})},onChangeRange(t){this.displayStart=t.start,this.displayEnd=t.end,this.getSeriesData()},statFormatter(t){return t=t*this.displayMaxValue/100,Number(t).toFixed(2)+"s"}}},c={};var B=d(A,M,R,!1,E,null,null,null);function E(t){for(let e in c)this[e]=c[e]}var N=function(){return B.exports}();export{L as R,N as S};
//# sourceMappingURL=SimpleBarChart.24f64a98.js.map
