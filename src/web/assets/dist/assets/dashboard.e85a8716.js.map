{"version":3,"file":"dashboard.e85a8716.js","sources":["../../../../../buildchain/src/vue/common/ConfettiParty.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/common/ConfettiParty.vue","../../../../../buildchain/src/vue/charts/dashboard/DashboardFileListCell.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/charts/dashboard/DashboardFileListCell.vue","../../../../../buildchain/src/vue/charts/dashboard/DashboardFileList.vue?vue&type=template&lang.js","../../../../../buildchain/src/vue/charts/dashboard/DashboardFileList.vue","../../../../../buildchain/src/js/dashboard.js"],"sourcesContent":["\n<main />\n","<template>\n  <main />\n</template>\n\n<script>\nimport Vue from 'vue';\nimport VueConfetti from 'vue-confetti';\n\nVue.use(VueConfetti);\n\nexport default Vue.extend({\n  mounted: function () {\n    this.$confetti.start({\n      shape: 'rect',\n      colors: ['DodgerBlue', 'OliveDrab', 'Gold', 'pink', 'SlateBlue', 'lightblue', 'Violet', 'PaleGreen', 'SteelBlue', 'SandyBrown', 'Chocolate', 'Crimson']\n    });\n    setTimeout(() => {\n      this.$confetti.stop();\n    }, 5000);\n  },\n  methods: {}\n})\n</script>\n","\n<div @click=\"redirectTo(detailPageUrl)\">\n  <div class=\"clearafter pb-1\">\n    <div\n      :title=\"title\"\n      class=\"simple-bar-chart-label text-base font-normal truncate-label\"\n      style=\"width: 90%;\"\n    >\n      <a\n        v-if=\"title\"\n        :href=\"url\"\n        style=\"color: rgb(26 13 171);\"\n        target=\"_blank\"\n        @click.stop=\"\"\n      >\n        {{ title }}\n      </a>\n      <span\n        v-else\n        class=\"text-gray-300\"\n      ><em>Craft backend route</em></span>\n    </div>\n    <div class=\"simple-bar-chart-value\">\n      <sample-size-warning :sample=\"cnt\" />\n    </div>\n  </div>\n  <div class=\"clearafter pb-1\">\n    <cite\n      :title=\"url\"\n      class=\"simple-bar-chart-label text-sm font-normal truncate-label\"\n      style=\"width: 80%;\"\n    >\n      <a\n        :href=\"url\"\n        class=\"hover:no-underline\"\n        style=\"color: rgb(0 102 33);\"\n        target=\"_blank\"\n        @click.stop=\"\"\n      >\n        {{ url }}\n      </a>\n    </cite>\n    <div class=\"simple-bar-chart-value text-sm font-bold\">\n      {{ data }}\n    </div>\n  </div>\n  <div class=\"py-1\">\n    <div class=\"file-list-chart-track rounded-full bg-gray-200\">\n      <div\n        :style=\"{ width: width + '%', backgroundColor: color }\"\n        class=\"simple-bar-line h-2 rounded-full\"\n      />\n    </div>\n  </div>\n</div>\n","<template>\n  <div @click=\"redirectTo(detailPageUrl)\">\n    <div class=\"clearafter pb-1\">\n      <div\n        :title=\"title\"\n        class=\"simple-bar-chart-label text-base font-normal truncate-label\"\n        style=\"width: 90%;\"\n      >\n        <a\n          v-if=\"title\"\n          :href=\"url\"\n          style=\"color: rgb(26 13 171);\"\n          target=\"_blank\"\n          @click.stop=\"\"\n        >\n          {{ title }}\n        </a>\n        <span\n          v-else\n          class=\"text-gray-300\"\n        ><em>Craft backend route</em></span>\n      </div>\n      <div class=\"simple-bar-chart-value\">\n        <sample-size-warning :sample=\"cnt\" />\n      </div>\n    </div>\n    <div class=\"clearafter pb-1\">\n      <cite\n        :title=\"url\"\n        class=\"simple-bar-chart-label text-sm font-normal truncate-label\"\n        style=\"width: 80%;\"\n      >\n        <a\n          :href=\"url\"\n          class=\"hover:no-underline\"\n          style=\"color: rgb(0 102 33);\"\n          target=\"_blank\"\n          @click.stop=\"\"\n        >\n          {{ url }}\n        </a>\n      </cite>\n      <div class=\"simple-bar-chart-value text-sm font-bold\">\n        {{ data }}\n      </div>\n    </div>\n    <div class=\"py-1\">\n      <div class=\"file-list-chart-track rounded-full bg-gray-200\">\n        <div\n          :style=\"{ width: width + '%', backgroundColor: color }\"\n          class=\"simple-bar-line h-2 rounded-full\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport SampleSizeWarning from '@/vue/common/SampleSizeWarning.vue';\n\nexport default {\n  name: 'DashboardFileListCell',\n  components: {SampleSizeWarning},\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    url: {\n      type: String,\n      default: '',\n    },\n    detailPageUrl: {\n      type: String,\n      default: '',\n    },\n    data: {\n      type: String,\n      default: '',\n    },\n    cnt: {\n      type: Number,\n      default: 0,\n    },\n    width: {\n      type: Number,\n      default: 0,\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n  },\n  methods: {\n    redirectTo(url) {\n      window.location.href = url;\n    }\n  }\n}\n</script>\n","\n<section class=\"px-3 py-3\">\n  <div class=\"text-left text-base font-bold px-2 pt-2\">\n    Slowest pages\n  </div>\n  <div\n    v-for=\"(item, index) in series\"\n    :key=\"index\"\n    class=\"file-list-wrapper p-2\"\n  >\n    <dashboard-file-list-cell\n      :cnt=\"item.cnt\"\n      :color=\"item.barColor\"\n      :data=\"statFormatter(item.data, item.maxValue)\"\n      :detail-page-url=\"item.detailPageUrl\"\n      :title=\"item.title\"\n      :url=\"item.url\"\n      :width=\"item.data\"\n    />\n  </div>\n</section>\n","<template>\n  <section class=\"px-3 py-3\">\n    <div class=\"text-left text-base font-bold px-2 pt-2\">\n      Slowest pages\n    </div>\n    <div\n      v-for=\"(item, index) in series\"\n      :key=\"index\"\n      class=\"file-list-wrapper p-2\"\n    >\n      <dashboard-file-list-cell\n        :cnt=\"item.cnt\"\n        :color=\"item.barColor\"\n        :data=\"statFormatter(item.data, item.maxValue)\"\n        :detail-page-url=\"item.detailPageUrl\"\n        :title=\"item.title\"\n        :url=\"item.url\"\n        :width=\"item.data\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport Axios from 'axios';\nimport TriBlendColor from '@/js/tri-color-blend.js';\nimport DashboardFileListCell from '@/vue/charts/dashboard/DashboardFileListCell.vue';\n\n// Configure the api endpoint\nconst configureApi = (url) => {\n  return {\n    baseURL: url,\n    headers: {\n      'X-Requested-With': 'XMLHttpRequest'\n    }\n  };\n};\n// Query our API endpoint via an XHR GET\nconst queryApi = (api, uri, params, callback) => {\n  api.get(uri, {params: params})\n    .then((result) => {\n      if (callback) {\n        callback(result.data);\n      }\n    })\n    .catch((error) => {\n      console.log(error);\n    })\n};\n\n// Our component exports\nexport default {\n  name: 'DashboardFileList',\n  components: {\n    'dashboard-file-list-cell': DashboardFileListCell,\n  },\n  props: {\n    start: {\n      type: String,\n      default: '',\n    },\n    end: {\n      type: String,\n      default: '',\n    },\n    column: {\n      type: String,\n      default: '',\n    },\n    fastColor: {\n      type: String,\n      default: '#00C800',\n    },\n    averageColor: {\n      type: String,\n      default: '#FFFF00',\n    },\n    slowColor: {\n      type: String,\n      default: '#C80000',\n    },\n    limit: {\n      type: Number,\n      default: 3,\n    },\n    maxValue: {\n      type: Number,\n      default: 10000,\n    },\n    siteId: {\n      type: Number,\n      default: 0,\n    },\n    apiUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data: function () {\n    return {\n      series: [],\n      displayStart: this.start,\n      displayEnd: this.end,\n      triBlend: new TriBlendColor(this.fastColor, this.averageColor, this.slowColor),\n    }\n  },\n  created() {\n    this.getSeriesData();\n  },\n  mounted() {\n    this.$events.$on('change-range', eventData => this.onChangeRange(eventData));\n  },\n  methods: {\n    // Load in our chart data asynchronously\n    getSeriesData: async function () {\n      const chartsAPI = Axios.create(configureApi(this.apiUrl));\n      let params = {\n        'column': this.column,\n        'start': this.displayStart,\n        'end': this.displayEnd,\n        'siteId': this.siteId,\n      };\n      await queryApi(chartsAPI, '', params, (data) => {\n        data.forEach((element, index, array) => {\n          let val = element.avg / 1000;\n          let maxValue = this.maxValue;\n          if (val > maxValue) {\n            maxValue = val;\n          }\n          val = (val * 100) / maxValue;\n          array[index].data = val;\n          array[index].maxValue = maxValue;\n          array[index].barColor = this.triBlend.colorFromPercentage(val);\n        });\n        this.series = data;\n      });\n    },\n    onChangeRange(range) {\n      this.displayStart = range.start;\n      this.displayEnd = range.end;\n      this.getSeriesData();\n    },\n    statFormatter(val, maxValue) {\n      val = (val * maxValue) / 100;\n      return Number(val).toFixed(2) + \"s\";\n    }\n  },\n}\n</script>\n","import Vue from 'vue';\nimport VueEvents from 'vue-events';\nimport ConfettiParty from '@/vue/common/ConfettiParty.vue';\nimport RadialBarChart from '@/vue/charts/common/RadialBarChart.vue';\nimport SimpleBarChart from '@/vue/charts/common/SimpleBarChart.vue';\nimport DashboardFileList from '@/vue/charts/dashboard/DashboardFileList.vue';\nimport SampleRangePicker from '@/vue/common/SampleRangePicker.vue';\nimport SamplePaneFooter from '@/vue/common/SamplePaneFooter.vue';\nimport RecommendationsList from '@/vue/common/RecommendationsList.vue';\n\nVue.use(VueEvents);\n// Create our vue instance\nnew Vue({\n    el: \"#cp-nav-content\",\n    components: {\n        ConfettiParty,\n        RadialBarChart,\n        SimpleBarChart,\n        DashboardFileList,\n        SampleRangePicker,\n        SamplePaneFooter,\n        RecommendationsList,\n    },\n});\n"],"names":["render","staticRenderFns","Vue","VueEvents"],"mappings":"+WAAA,GAAIA,GAAS,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,SAC/FC,EAAkB,GCItB,mBAGAC,SAEA,uYCVIF,EAAS,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,MAAM,CAAC,GAAG,CAAC,MAAQ,SAAS,EAAO,CAAC,MAAO,GAAI,WAAW,EAAI,kBAAkB,CAAC,EAAG,MAAM,CAAC,YAAY,mBAAmB,CAAC,EAAG,MAAM,CAAC,YAAY,8DAA8D,YAAY,CAAC,MAAQ,OAAO,MAAM,CAAC,MAAQ,EAAI,QAAQ,CAAE,EAAI,MAAO,EAAG,IAAI,CAAC,YAAY,CAAC,MAAQ,kBAAkB,MAAM,CAAC,KAAO,EAAI,IAAI,OAAS,UAAU,GAAG,CAAC,MAAQ,SAAS,EAAO,CAAC,EAAO,qBAAsB,CAAC,EAAI,GAAG,IAAI,EAAI,GAAG,EAAI,OAAO,OAAO,EAAG,OAAO,CAAC,YAAY,iBAAiB,CAAC,EAAG,KAAK,CAAC,EAAI,GAAG,6BAA6B,EAAG,MAAM,CAAC,YAAY,0BAA0B,CAAC,EAAG,sBAAsB,CAAC,MAAM,CAAC,OAAS,EAAI,QAAQ,KAAK,EAAG,MAAM,CAAC,YAAY,mBAAmB,CAAC,EAAG,OAAO,CAAC,YAAY,4DAA4D,YAAY,CAAC,MAAQ,OAAO,MAAM,CAAC,MAAQ,EAAI,MAAM,CAAC,EAAG,IAAI,CAAC,YAAY,qBAAqB,YAAY,CAAC,MAAQ,iBAAiB,MAAM,CAAC,KAAO,EAAI,IAAI,OAAS,UAAU,GAAG,CAAC,MAAQ,SAAS,EAAO,CAAC,EAAO,qBAAsB,CAAC,EAAI,GAAG,IAAI,EAAI,GAAG,EAAI,KAAK,SAAS,EAAG,MAAM,CAAC,YAAY,4CAA4C,CAAC,EAAI,GAAG,IAAI,EAAI,GAAG,EAAI,MAAM,SAAS,EAAG,MAAM,CAAC,YAAY,QAAQ,CAAC,EAAG,MAAM,CAAC,YAAY,kDAAkD,CAAC,EAAG,MAAM,CAAC,YAAY,mCAAmC,MAAO,CAAE,MAAO,EAAI,MAAQ,IAAK,gBAAiB,EAAI,gBACp7CC,EAAkB,GC0DtB,idC3DI,EAAS,UAAY,CAAC,GAAI,GAAI,KAAS,EAAG,EAAI,eAAmB,EAAG,EAAI,MAAM,IAAI,EAAG,MAAO,GAAG,UAAU,CAAC,YAAY,aAAa,CAAC,EAAG,MAAM,CAAC,YAAY,2CAA2C,CAAC,EAAI,GAAG,qBAAqB,EAAI,GAAI,EAAI,OAAQ,SAAS,EAAK,EAAM,CAAC,MAAO,GAAG,MAAM,CAAC,IAAI,EAAM,YAAY,yBAAyB,CAAC,EAAG,2BAA2B,CAAC,MAAM,CAAC,IAAM,EAAK,IAAI,MAAQ,EAAK,SAAS,KAAO,EAAI,cAAc,EAAK,KAAM,EAAK,UAAU,kBAAkB,EAAK,cAAc,MAAQ,EAAK,MAAM,IAAM,EAAK,IAAI,MAAQ,EAAK,SAAS,MAAM,IAC7iB,EAAkB,GC4BtB,26CC7BA,mBAUA,EAAI,IAAIE,GAER,GAAI,GAAI,CACJ,GAAI,kBACJ,WAAY,CACR,gBACA,iBACA,iBACA,oBACA,oBACA,mBACA"}