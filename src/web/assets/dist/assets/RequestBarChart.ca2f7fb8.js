import{n as l}from"./vendor.6a8d211c.js";var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"h-5",class:e.color,style:{width:e.value/e.parentValue*100+"%"},attrs:{title:e.label+" "+e.statFormatter(e.value)}},e._l(e.nodes,function(r){return t("request-bar-recursive",{key:r.column,attrs:{column:r.column,color:r.color,label:r.label,value:r.value,parentValue:r.parentValue,nodes:r.nodes}})}),1)},u=[];const c={name:"request-bar-recursive",props:{column:String,color:String,label:String,value:Number,parentValue:Number,nodes:Array},methods:{statFormatter(e){return Number(e/1e3).toFixed(2)+"s"}}},o={};var i=l(c,s,u,!1,d,null,null,null);function d(e){for(let a in o)this[a]=o[a]}var b=function(){return i.exports}(),v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"flex flex-no-wrap"},[e.rowData.type==="both"?t("div",{staticClass:"flex-shrink",attrs:{title:"Combined Frontend & Craft Beacon"}},[t("div",{staticClass:"w-2 h-2 bg-blue-700 rounded-full mb-1"}),t("div",{staticClass:"w-2 h-2 bg-orange-700 rounded-full"})]):e._e(),e.rowData.type==="frontend"?t("div",{staticClass:"flex-shrink",attrs:{title:"Frontend Beacon only"}},[t("div",{staticClass:"w-2 h-2 bg-blue-700 rounded-full mb-1"}),t("div",{staticClass:"w-2 h-2 bg-transparent rounded-full"})]):e._e(),e.rowData.type==="craft"?t("div",{staticClass:"flex-shrink",attrs:{title:"Craft Beacon only"}},[t("div",{staticClass:"w-2 h-2 bg-transparent rounded-full mb-1"}),t("div",{staticClass:"w-2 h-2 bg-orange-700 rounded-full"})]):e._e(),t("div",{staticClass:"flex-grow"},[t("request-bar-recursive",{attrs:{column:e.root.column,color:e.root.color,label:e.root.label,value:e.root.value,parentValue:e.root.parentValue,nodes:e.root.nodes}})],1),t("div",{staticClass:"flex-shrink"},[e._v(" "+e._s(e.statFormatter(e.root.value))+" ")])])},f=[];const m=[{column:"pageLoad",color:"bg-blue-200",label:"Page Loaded"},{column:"domInteractive",color:"bg-blue-400",label:"DOM Interactive"},{column:"firstContentfulPaint",color:"bg-blue-500",label:"First Contentful Paint"},{column:"firstPaint",color:"bg-blue-700",label:"First Paint"},{column:"firstByte",color:"bg-orange-400",label:"First Byte"},{column:"connect",color:"bg-orange-500",label:"Connect"},{column:"dns",color:"bg-orange-700",label:"DNS Lookup"},{column:"craftTotalMs",color:"bg-red-400",label:"Craft Rendering"},{column:"craftTwigMs",color:"bg-red-500",label:"Twig Rendering"},{column:"craftDbMs",color:"bg-red-700",label:"Database Queries"}],h={name:"request-bar-chart",components:{"request-bar-recursive":b},props:{rowData:Object},data:function(){return{root:void 0}},mounted(){this.$events!==void 0&&this.$events.$on("refresh-table-components",e=>this.onTableRefresh(e))},created(){this.calculateNodes()},methods:{onTableRefresh:function(e){this.calculateNodes()},statFormatter(e){return Number(e/1e3).toFixed(2)+"s"},calculateNodes:function(){this.root=void 0,m.forEach(e=>{let a={column:e.column,color:e.color,label:e.label,value:parseFloat(this.rowData[e.column])||null,parentValue:parseFloat(this.rowData.maxTotalPageLoad)||null,nodes:void 0};if(a.value)if(this.root){let t=this.root;for(;t;)!t.nodes||!t.value||a.value>t.value?(a.nodes=t.nodes,a.parentValue=t.parentValue||t.value,t.nodes=[a],t=a.nodes||void 0):t=t.nodes[0]||void 0}else this.root=a})}}},n={};var _=l(h,v,f,!1,p,null,null,null);function p(e){for(let a in n)this[a]=n[a]}var C=function(){return _.exports}();export{C as R};
//# sourceMappingURL=RequestBarChart.ca2f7fb8.js.map
