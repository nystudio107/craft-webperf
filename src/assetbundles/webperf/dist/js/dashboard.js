/*!
 * @project        Webperf
 * @name           dashboard.js
 * @author         Andrew Welch
 * @build          Sun, Jan 13, 2019 5:14 AM ET
 * @release        81d04d2aedda63a5c1d5974e4e7f4db2bc8eb219 [develop]
 * @copyright      Copyright (c) 2019 nystudio107
 *
 */!function(t){function e(e){for(var n,s,o=e[0],l=e[1],u=e[2],h=0,d=[];h<o.length;h++)s=o[h],a[s]&&d.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);for(c&&c(e);d.length;)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var l=r[o];0!==a[l]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={0:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;i.push([118,2]),r()}({118:function(t,e,r){"use strict";r.r(e);var n=r(17),a=r.n(n),i=r(58),s=r.n(i),o=function(){var t=this.$createElement;return(this._self._c||t)("main")};o._withStripped=!0;var l=r(59),u=r.n(l);a.a.use(u.a);var c={mounted:function(){var t=this;this.$confetti.start({shape:"rect",colors:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"]}),setTimeout(function(){t.$confetti.stop()},5e3)},methods:{}},h=r(5),d=Object(h.a)(c,o,[],!1,null,null,null);d.options.__file="src/assetbundles/webperf/src/vue/Confetti.vue";var f=d.exports,p=function(){var t=this.$createElement;return(this._self._c||t)("apexcharts",{attrs:{width:"100%",height:"300px",type:"radialBar",options:this.chartOptions,series:this.series}})};p._withStripped=!0;r(22),r(45),r(33),r(34);var v=r(12),g=r.n(v),b=r(60),m=r.n(b);r(106);function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var x=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{r:0,g:200,b:0},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{r:255,g:255,b:0},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{r:200,g:0,b:0};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clr1=e,this.clr2=r,this.clr3=n}var e,r,n;return e=t,(r=[{key:"RGBToHex",value:function(t,e,r){var n;return n=(t<<16|e<<8|r).toString(16).toUpperCase(),new Array(7-n.length).join("0")+n}},{key:"colorFromPercentage",value:function(t){var e=this.clr1,r=this.clr2;t>=50&&(e=this.clr2,r=this.clr3,t-=50);var n=t/50,a=Math.round(e.r+n*(r.r-e.r)),i=Math.round(e.g+n*(r.g-e.g)),s=Math.round(e.b+n*(r.b-e.b));return"#"+this.RGBToHex(a,i,s)}}])&&y(e.prototype,r),n&&y(e,n),t}();function w(t,e,r,n,a,i,s){try{var o=t[i](s),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(n,a)}var _=function(t,e,r){t.get(e).then(function(t){r&&r(t.data)}).catch(function(t){console.log(t)})},C={components:{apexcharts:m.a},props:{title:String,range:String,column:String,maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.a.create({baseURL:"/webperf/charts/dashboard-stats-average/",headers:{"X-Requested-With":"XMLHttpRequest"}}),r=this.displayRange+"/"+this.column,0!==this.siteId&&(r+="/"+this.siteId),t.next=5,_(e,r,function(t){var e=Object.assign({},n.chartOptions);if(void 0!==t[0]){var r=t[0]/1e3;r>n.displayMaxValue&&(n.displayMaxValue=r),r=100*r/n.displayMaxValue;var a=n.triBlend.colorFromPercentage(r);e.colors=[a],n.chartOptions=e,n.series=[r]}});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(t){w(i,n,a,s,o,"next",t)}function o(t){w(i,n,a,s,o,"throw",t)}s(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayRange=t,this.getSeriesData()}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){var t=this;return{chartOptions:{chart:{id:"vuechart-dashboard-radial-bar",fontFamily:"inherit",toolbar:{show:!1}},states:{hover:{filter:{type:"none",value:0}}},colors:["#000000"],plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{size:"65%"},track:{background:"#f1f5f8",strokeWidth:"97%",margin:5,shadow:{enabled:!0,top:2,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!1,fontSize:"16px",color:"#333",offsetY:100},value:{offsetY:10,fontSize:"40px",color:"#333",style:{cssClass:"apexcharts-datalabel-value"},formatter:function(e){return e=e*t.displayMaxValue/100,Number(e).toFixed(2)+"s"}}}}},labels:[this.title],title:{text:this.title,offsetY:18,align:"center",style:{fontSize:"16px",cssClass:"apexcharts-title-text"}},stroke:{width:1,lineCap:"round"}},series:[0],displayRange:this.range,displayMaxValue:this.maxValue,triBlend:new x}}},S=Object(h.a)(C,p,[],!1,null,null,null);S.options.__file="src/assetbundles/webperf/src/vue/DashboardRadialBarChart.vue";var R=S.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"simple-bar-chart-wrapper px-5 py-3"},[r("div",{staticClass:"clearafter py-2"},[r("div",{staticClass:"simple-bar-chart-label text-base font-bold"},[t._v(t._s(t.title))]),t._v(" "),r("div",{staticClass:"simple-bar-chart-value text-base font-bold"},[t._v(t._s(t.statFormatter(t.series[0])))])]),t._v(" "),r("div",{staticClass:"py-2"},[r("div",{staticClass:"simple-bar-chart-track rounded-full bg-grey-lighter"},[r("div",{staticClass:"simple-bar-line h-3 rounded-full",style:{width:t.series[0]+"%",backgroundColor:t.barColor}})])])])};function M(t,e,r,n,a,i,s){try{var o=t[i](s),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(n,a)}O._withStripped=!0;var V=function(t,e,r){t.get(e).then(function(t){r&&r(t.data)}).catch(function(t){console.log(t)})},P={components:{},props:{title:String,range:String,column:String,maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.a.create({baseURL:"/webperf/charts/dashboard-stats-average/",headers:{"X-Requested-With":"XMLHttpRequest"}}),r=this.displayRange+"/"+this.column,0!==this.siteId&&(r+="/"+this.siteId),t.next=5,V(e,r,function(t){Object.assign({},n.chartOptions);if(void 0!==t[0]){var e=t[0]/1e3;e>n.displayMaxValue&&(n.displayMaxValue=e),e=100*e/n.displayMaxValue,n.barColor=n.triBlend.colorFromPercentage(e),n.series=[e]}});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(t){M(i,n,a,s,o,"next",t)}function o(t){M(i,n,a,s,o,"throw",t)}s(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayRange=t,this.getSeriesData()},statFormatter:function(t){return t=t*this.displayMaxValue/100,Number(t).toFixed(2)+"s"}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){return{triBlend:new x,barColor:"#000",series:[0],displayRange:this.range,displayMaxValue:this.maxValue}}},k=Object(h.a)(P,O,[],!1,null,null,null);k.options.__file="src/assetbundles/webperf/src/vue/DashboardSimpleBarChart.vue";var j=k.exports,B=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"px-3 py-3"},[r("div",{staticClass:"text-left text-base font-bold px-2 pt-2"},[t._v("\n        Slowest pages\n    ")]),t._v(" "),t._l(t.series,function(e){return r("div",{staticClass:"file-list-wrapper p-2"},[r("div",{staticClass:"text-base font-normal truncate-label",staticStyle:{color:"rgb(26, 13, 171)",width:"99%"}},[t._v(t._s(e.title))]),t._v(" "),r("div",{staticClass:"clearafter pb-1"},[r("cite",{staticClass:"simple-bar-chart-label text-sm font-normal truncate-label",staticStyle:{color:"rgb(0, 102, 33)",width:"80%"}},[t._v(t._s(e.url))]),t._v(" "),r("div",{staticClass:"simple-bar-chart-value text-sm font-bold"},[t._v(t._s(t.statFormatter(e.data,e.maxValue)))])]),t._v(" "),r("div",{staticClass:"py-1"},[r("div",{staticClass:"file-list-chart-track rounded-full bg-grey-lighter"},[r("div",{staticClass:"simple-bar-line h-2 rounded-full",style:{width:e.data+"%",backgroundColor:e.barColor}})])])])})],2)};B._withStripped=!0;r(108);function D(t,e,r,n,a,i,s){try{var o=t[i](s),l=o.value}catch(t){return void r(t)}o.done?e(l):Promise.resolve(l).then(n,a)}var F=function(t,e,r){t.get(e).then(function(t){r&&r(t.data)}).catch(function(t){console.log(t)})},I={components:{},props:{range:String,column:String,limit:{type:Number,default:3},maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,r,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=g.a.create({baseURL:"/webperf/charts/dashboard-slowest-pages/",headers:{"X-Requested-With":"XMLHttpRequest"}}),r=this.displayRange+"/"+this.column+"/"+this.limit,0!==this.siteId&&(r+="/"+this.siteId),t.next=5,F(e,r,function(t){console.log(t),t.forEach(function(t,e,r){console.log(t);var a=t.avg/1e3,i=n.maxValue;a>i&&(i=a),a=100*a/i,r[e].data=a,r[e].maxValue=i,r[e].barColor=n.triBlend.colorFromPercentage(a)}),n.series=t});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(t){D(i,n,a,s,o,"next",t)}function o(t){D(i,n,a,s,o,"throw",t)}s(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayRange=t,this.getSeriesData()},statFormatter:function(t,e){return t=t*e/100,Number(t).toFixed(2)+"s"}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){return{series:[],displayRange:this.range,triBlend:new x}}},$=Object(h.a)(I,B,[],!1,null,null,null);$.options.__file="src/assetbundles/webperf/src/vue/DashboardFileList.vue";var N=$.exports;a.a.use(s.a);new a.a({el:"#cp-nav-content",components:{confetti:f,"dashboard-radial-bar-chart":R,"dashboard-simple-bar-chart":j,"dashboard-file-list":N},data:{},mounted:function(){setTimeout(function(){},5e3)}})}});
//# sourceMappingURL=dashboard.js.map