/*!
 * @project        Webperf
 * @name           dashboard.js
 * @author         Andrew Welch
 * @build          Sun, Jan 20, 2019 6:56 PM ET
 * @release        e364613b1708d4b40286d02fe0ae535e405bbcf2 [develop]
 * @copyright      Copyright (c) 2019 nystudio107
 *
 */!function(t){function e(e){for(var r,i,o=e[0],l=e[1],u=e[2],d=0,p=[];d<o.length;d++)i=o[d],n[i]&&p.push(n[i][0]),n[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(c&&c(e);p.length;)p.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(r=!1)}r&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},n={1:0},s=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var c=l;s.push([162,0]),a()}({162:function(t,e,a){"use strict";a.r(e);var r=a(3),n=a.n(r),s=a(21),i=a.n(s),o=function(){var t=this.$createElement;return(this._self._c||t)("main")};o._withStripped=!0;var l=a(81),u=a.n(l);n.a.use(u.a);var c={mounted:function(){var t=this;this.$confetti.start({shape:"rect",colors:["DodgerBlue","OliveDrab","Gold","pink","SlateBlue","lightblue","Violet","PaleGreen","SteelBlue","SandyBrown","Chocolate","Crimson"]}),setTimeout(function(){t.$confetti.stop()},5e3)},methods:{}},d=a(0),p=Object(d.a)(c,o,[],!1,null,null,null);p.options.__file="src/assetbundles/webperf/src/vue/Confetti.vue";var f=p.exports,h=a(32),v=a(31),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"px-3 py-3"},[a("div",{staticClass:"text-left text-base font-bold px-2 pt-2"},[t._v("\n        Slowest pages\n    ")]),t._v(" "),t._l(t.series,function(e){return a("div",{staticClass:"file-list-wrapper p-2"},[a("dashboard-file-list-cell",{attrs:{title:e.title,url:e.url,"detail-page-url":e.detailPageUrl,data:t.statFormatter(e.data,e.maxValue),cnt:e.cnt,width:e.data,color:e.barColor}})],1)})],2)};b._withStripped=!0;a(12),a(129),a(17),a(1);var g=a(4),m=a.n(g),y=a(2),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:function(e){t.redirectTo(t.detailPageUrl)}}},[a("div",{staticClass:"clearafter pb-1"},[a("div",{staticClass:"simple-bar-chart-label text-base font-normal truncate-label",staticStyle:{color:"rgb(26, 13, 171)",width:"90%"},attrs:{title:t.title}},[t.title?a("span",[t._v(t._s(t.title))]):a("span",{staticClass:"text-grey-light"},[a("em",[t._v("Craft backend route")])])]),t._v(" "),a("div",{staticClass:"simple-bar-chart-value"},[a("sample-size-warning",{attrs:{sample:t.cnt}})],1)]),t._v(" "),a("div",{staticClass:"clearafter pb-1"},[a("cite",{staticClass:"simple-bar-chart-label text-sm font-normal truncate-label",staticStyle:{color:"rgb(0, 102, 33)",width:"80%"},attrs:{title:t.url}},[t._v("\n            "+t._s(t.url)+"\n        ")]),t._v(" "),a("div",{staticClass:"simple-bar-chart-value text-sm font-bold"},[t._v(t._s(t.data))])]),t._v(" "),a("div",{staticClass:"py-1"},[a("div",{staticClass:"file-list-chart-track rounded-full bg-grey-lighter"},[a("div",{staticClass:"simple-bar-line h-2 rounded-full",style:{width:t.width+"%",backgroundColor:t.color}})])])])};w._withStripped=!0;var C={name:"dashboard-file-list-cell",components:{SampleSizeWarning:a(33).a},props:{title:String,url:String,detailPageUrl:String,data:String,cnt:Number,width:Number,color:String},methods:{redirectTo:function(t){window.location.href=t}}},x=Object(d.a)(C,w,[],!1,null,null,null);x.options.__file="src/assetbundles/webperf/src/vue/DashboardFileListCell.vue";var _=x.exports;function S(t,e,a,r,n,s,i){try{var o=t[s](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(r,n)}var F=function(t,e,a){t.get(e).then(function(t){a&&a(t.data)}).catch(function(t){console.log(t)})},R={name:"dashboard-file-list",components:{"dashboard-file-list-cell":_},props:{days:{type:Number,default:30},column:String,fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},limit:{type:Number,default:3},maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=m.a.create({baseURL:"/webperf/charts/dashboard-slowest-pages/",headers:{"X-Requested-With":"XMLHttpRequest"}}),a=this.displayDays+"/"+this.column+"/"+this.limit,0!==this.siteId&&(a+="/"+this.siteId),t.next=5,F(e,a,function(t){t.forEach(function(t,e,a){var n=t.avg/1e3,s=r.maxValue;n>s&&(s=n),n=100*n/s,a[e].data=n,a[e].maxValue=s,a[e].barColor=r.triBlend.colorFromPercentage(n)}),r.series=t});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,a=arguments;return new Promise(function(r,n){var s=t.apply(e,a);function i(t){S(s,r,n,i,o,"next",t)}function o(t){S(s,r,n,i,o,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayDays=days,this.getSeriesData()},statFormatter:function(t,e){return t=t*e/100,Number(t).toFixed(2)+"s"}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){return{series:[],displayDays:this.days,triBlend:new y.a(this.fastColor,this.averageColor,this.slowColor)}}},O=Object(d.a)(R,b,[],!1,null,null,null);O.options.__file="src/assetbundles/webperf/src/vue/DashboardFileList.vue";var D=O.exports;n.a.use(i.a);new n.a({el:"#cp-nav-content",components:{confetti:f,"dashboard-radial-bar-chart":h.a,"dashboard-simple-bar-chart":v.a,"dashboard-file-list":D},data:{},mounted:function(){setTimeout(function(){},5e3)}})},2:function(t,e,a){"use strict";a.d(e,"a",function(){return n});a(56);function r(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#00C800",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#FFFF00",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#C80000";!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.clr1=this.HexToRGB(e),this.clr2=this.HexToRGB(a),this.clr3=this.HexToRGB(r)}var e,a,n;return e=t,(a=[{key:"RGBToHex",value:function(t,e,a){var r;return r=(t<<16|e<<8|a).toString(16).toUpperCase(),new Array(7-r.length).join("0")+r}},{key:"HexToRGB",value:function(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}},{key:"colorFromPercentage",value:function(t){var e=this.clr1,a=this.clr2;t>=50&&(e=this.clr2,a=this.clr3,t-=50);var r=t/50,n=Math.round(e.r+r*(a.r-e.r)),s=Math.round(e.g+r*(a.g-e.g)),i=Math.round(e.b+r*(a.b-e.b));return"#"+this.RGBToHex(n,s,i)}}])&&r(e.prototype,a),n&&r(e,n),t}()},31:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"simple-bar-chart-wrapper px-5 py-3"},[a("div",{staticClass:"clearafter py-2"},[a("div",{staticClass:"simple-bar-chart-label text-base font-bold"},[t._v(t._s(t.title))]),t._v(" "),a("div",{staticClass:"simple-bar-chart-value text-base font-bold"},[t._v(t._s(t.statFormatter(t.series[0])))])]),t._v(" "),a("div",{staticClass:"py-2"},[a("div",{staticClass:"simple-bar-chart-track rounded-full bg-grey-lighter"},[a("div",{staticClass:"simple-bar-line h-3 rounded-full",style:{width:t.series[0]+"%",backgroundColor:t.barColor}})])])])};r._withStripped=!0;a(12),a(20),a(17),a(1);var n=a(4),s=a.n(n),i=a(2);function o(t,e,a,r,n,s,i){try{var o=t[s](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(r,n)}var l=function(t,e,a){t.get(e).then(function(t){a&&a(t.data)}).catch(function(t){console.log(t)})},u={components:{},props:{title:String,days:{type:Number,default:30},column:String,fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.a.create({baseURL:"/webperf/charts/dashboard-stats-average/",headers:{"X-Requested-With":"XMLHttpRequest"}}),a=this.displayDays+"/"+this.column,0!==this.siteId&&(a+="/"+this.siteId),t.next=5,l(e,a,function(t){Object.assign({},r.chartOptions);if(void 0!==t[0]){var e=t[0]/1e3;e>r.displayMaxValue&&(r.displayMaxValue=e),e=100*e/r.displayMaxValue,r.barColor=r.triBlend.colorFromPercentage(e),r.series=[e]}});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,a=arguments;return new Promise(function(r,n){var s=t.apply(e,a);function i(t){o(s,r,n,i,l,"next",t)}function l(t){o(s,r,n,i,l,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayDays=t,this.getSeriesData()},statFormatter:function(t){return t=t*this.displayMaxValue/100,Number(t).toFixed(2)+"s"}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){return{barColor:"#000",series:[0],displayDays:this.days,displayMaxValue:this.maxValue,triBlend:new i.a(this.fastColor,this.averageColor,this.slowColor)}}},c=a(0),d=Object(c.a)(u,r,[],!1,null,null,null);d.options.__file="src/assetbundles/webperf/src/vue/DashboardSimpleBarChart.vue";e.a=d.exports},32:function(t,e,a){"use strict";var r=function(){var t=this.$createElement;return(this._self._c||t)("apexcharts",{attrs:{width:"100%",height:"300px",type:"radialBar",options:this.chartOptions,series:this.series}})};r._withStripped=!0;a(12),a(20),a(17),a(1);var n=a(4),s=a.n(n),i=a(11),o=a.n(i),l=a(2);function u(t,e,a,r,n,s,i){try{var o=t[s](i),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(r,n)}var c=function(t,e,a){t.get(e).then(function(t){a&&a(t.data)}).catch(function(t){console.log(t)})},d={components:{apexcharts:o.a},props:{title:String,days:{type:Number,default:30},column:String,fastColor:{type:String,default:"#00C800"},averageColor:{type:String,default:"#FFFF00"},slowColor:{type:String,default:"#C80000"},maxValue:Number,siteId:{type:Number,default:0}},methods:{getSeriesData:function(){var t,e=(t=regeneratorRuntime.mark(function t(){var e,a,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.a.create({baseURL:"/webperf/charts/dashboard-stats-average/",headers:{"X-Requested-With":"XMLHttpRequest"}}),a=this.displayDays+"/"+this.column,0!==this.siteId&&(a+="/"+this.siteId),t.next=5,c(e,a,function(t){var e=Object.assign({},r.chartOptions);if(void 0!==t[0]){var a=t[0]/1e3;a>r.displayMaxValue&&(r.displayMaxValue=a),a=100*a/r.displayMaxValue;var n=r.triBlend.colorFromPercentage(a);e.colors=[n],e.plotOptions.radialBar.dataLabels.value.color=n,r.chartOptions=e,r.series=[a]}});case 5:case"end":return t.stop()}},t,this)}),function(){var e=this,a=arguments;return new Promise(function(r,n){var s=t.apply(e,a);function i(t){u(s,r,n,i,o,"next",t)}function o(t){u(s,r,n,i,o,"throw",t)}i(void 0)})});return function(){return e.apply(this,arguments)}}(),onChangeRange:function(t){this.displayDays=t,this.getSeriesData()}},created:function(){this.getSeriesData()},mounted:function(){var t=this;this.$events.$on("change-range",function(e){return t.onChangeRange(e)}),setInterval(function(){},3e3)},data:function(){var t=this;return{chartOptions:{chart:{id:"vuechart-dashboard-radial-bar",fontFamily:"inherit",toolbar:{show:!1}},states:{hover:{filter:{type:"none",value:0}}},colors:["#000000"],plotOptions:{radialBar:{startAngle:-135,endAngle:135,hollow:{size:"65%"},track:{background:"#f1f5f8",strokeWidth:"97%",margin:5,shadow:{enabled:!0,top:2,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!1,fontSize:"16px",color:"#333",offsetY:100},value:{offsetY:10,fontSize:"40px",color:"#333",style:{cssClass:"apexcharts-datalabel-value"},formatter:function(e){return e=e*t.displayMaxValue/100,Number(e).toFixed(2)+"s"}}}}},labels:[this.title],title:{text:this.title,offsetY:18,align:"center",style:{fontSize:"16px",cssClass:"apexcharts-title-text"}},stroke:{width:1,lineCap:"round"}},series:[0],displayDays:this.days,displayMaxValue:this.maxValue,triBlend:new l.a(this.fastColor,this.averageColor,this.slowColor)}}},p=a(0),f=Object(p.a)(d,r,[],!1,null,null,null);f.options.__file="src/assetbundles/webperf/src/vue/DashboardRadialBarChart.vue";e.a=f.exports},33:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field webperf-tooltip text-sm font-normal inline-block"},[t.sample<1e3?a("p",{staticClass:"warning display-block"},[t._v(" ")]):t._e(),t._v(" "),a("span",{staticClass:"webperf-tooltiptext webperf-sample-tooltip"},[t._v("\n        Only "+t._s(t.sample)+" data sample"),1!==t.sample?a("span",[t._v("s")]):t._e(),t._v(".\n    ")])])};r._withStripped=!0;a(1);var n={name:"sample-size-warning",props:{sample:Number}},s=a(0),i=Object(s.a)(n,r,[],!1,null,null,null);i.options.__file="src/assetbundles/webperf/src/vue/SampleSizeWarning.vue";e.a=i.exports}});
//# sourceMappingURL=dashboard.js.map